<!-- ======= Contact Section ======= -->
<section id="contact" class="contact flex justify-center mx-5 md:mx-auto">
  <div class="container" data-aos="fade-up">
    <header class="section-header">
      <h2 [innerText]="resource.contact.title"></h2>
      <p class="dark:!text-white" [innerText]="resource.contact.subtitle"></p>
    </header>

    <div class="flex justify-center">
      <div class="w-full lg:w-1/2">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmitForm()">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <input
                type="text"
                pInputText
                id="name"
                formControlName="name"
                [placeholder]="resource.contact.name_placeholder"
                [ngClass]="{ 'border-red-500': shouldShowNameError() }"
                class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <div
                *ngIf="f.name.errors && (f.name.touched || f.name.dirty)"
                class="text-red-600 text-sm mt-1"
              >
                <div
                  *ngIf="f.name.errors.required"
                  [innerText]="resource.error.surname_mandatory"
                ></div>
              </div>
            </div>

            <div>
              <input
                type="email"
                pInputText
                id="email"
                formControlName="email"
                [placeholder]="resource.contact.email_placeholder"
                [ngClass]="{ 'border-red-500': shouldShowMailError() }"
                class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <div
                *ngIf="f.email.errors && (f.email.touched || f.email.dirty)"
                class="text-red-600 text-sm mt-1"
              >
                <div
                  *ngIf="f.email.errors.required"
                  [innerText]="resource.error.email_mandatory"
                ></div>
                <div *ngIf="f.email.errors.email" [innerText]="resource.error.email_invalid"></div>
              </div>
            </div>

            <div class="md:col-span-2">
              <input
                type="text"
                pInputText
                id="subject"
                formControlName="subject"
                [placeholder]="resource.contact.subject_placeholder"
                [ngClass]="{ 'border-red-500': shouldShowSubjectError() }"
                class="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <div
                *ngIf="f.subject.errors && (f.subject.touched || f.subject.dirty)"
                class="text-red-600 text-sm mt-1"
              >
                <div
                  *ngIf="f.subject.errors.required"
                  [innerText]="resource.error.subject_mandatory"
                ></div>
              </div>
            </div>

            <div class="md:col-span-2">
              <textarea
                pTextarea
                id="message"
                formControlName="message"
                rows="6"
                [placeholder]="resource.contact.message_placeholder"
                [ngClass]="{ 'border-red-500': shouldShowMessageError() }"
                class="w-full border rounded px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
              ></textarea>
              <div
                *ngIf="f.message.errors && (f.message.touched || f.message.dirty)"
                class="text-red-600 text-sm mt-1"
              >
                <div
                  *ngIf="f.message.errors.required"
                  [innerText]="resource.error.message_mandatory"
                ></div>
              </div>
            </div>
          </div>

          <div class="md:col-span-2 text-center mt-6">
            <div
              *ngIf="loading"
              class="mb-3 text-blue-600 font-semibold flex justify-center items-center space-x-2"
            >
              <span [innerText]="resource.contact.loading"></span>
              <i class="fas fa-spinner fa-pulse"></i>
            </div>

            <button
              type="submit"
              [disabled]="contactForm.invalid"
              class="bg-blue-600 text-white font-semibold px-6 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 transition"
              [innerText]="resource.contact.send_message"
            ></button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
<!-- End Contact Section -->
